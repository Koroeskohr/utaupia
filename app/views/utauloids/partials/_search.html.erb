<%= form_tag utauloids_path, :method => 'get' do %>
	<p>
	<%= label_tag :name %>
	<%= text_field_tag :name, params[:name], value: params[:name] %>
	</p>
	<p>
	<%= label_tag :gender %>
  <% Utauloid.genders.keys.map {|gender| [gender.titleize,gender]}.each_with_index do |g, i| %>
	  <%= label_tag g.first %>
	  <% if params[:gender].nil? %>
	  	<%= check_box_tag "gender[]", g.second, false, id: "gender_#{g.second}" %>
	  <% else %>
			<%= check_box_tag "gender[]", g.second, params[:gender].include?(g.second) ? true : false, id: "gender_#{g.second}" %>
	  <% end %>
	<% end %>
	<p>
	<p>
	<%= label_tag :language %>
  <% VoiceLanguage.order(:name).each_with_index do |l, i| %>
	  <%= label_tag l.name %>
	  <% if params[:language].nil? %>
	  false
	  	<%= check_box_tag "language[]", l.id, false, id: "language_#{l.id}" %>
	  <% else %>
	  	<%= check_box_tag "language[]", l.id, params[:language].include?(l.id.to_s), id: "language_#{l.id}" %>
	  <% end %>
	<% end %>
	<p>
	<p>
	<%= label_tag :voicebank_type %>
  <% VoicebankType.order(:name).each_with_index do |vbt, i| %>
	  <%= label_tag vbt.name %>
	  <% if params[:voicebank_type].nil? %>
	  	<%= check_box_tag "voicebank_type[]", vbt.id, false, id: "voicebank_type_#{vbt.id}" %>
	  <% else %>
	  	<%= check_box_tag "voicebank_type[]", vbt.id, params[:voicebank_type].include?(vbt.id.to_s) ? true : false, id: "voicebank_type_#{vbt.id}" %>
	  <% end %>
	<% end %>
	<p>
	<p>
	<%= label_tag :voice_characteristic %>
  <% VoiceCharacteristic.order(:name).each_with_index do |vc, i| %>
	  <%= label_tag vc.name %>
	  <% if params[:voice_characteristic].nil? %>
	  	<%= check_box_tag "voice_characteristic[]", vc.id, false, id: "voice_characteristic_#{vc.id}" %>
	  <% else %>
	  	<%= check_box_tag "voice_characteristic[]", vc.id, params[:voice_characteristic].include?(vc.id.to_s) ? true : false, id: "voice_characteristic#{vc.id}" %>
	  <% end %>
	<% end %>
	<p>

	<p>Advanced option</p>
	<p>
	<%= label_tag :release_date %>
	<% if params[:release_date].nil? %>
			<%= select_tag :release_date, options_from_collection_for_select(get_search_date_options, :first, :last), { include_blank: 'None' } %>
	<% else %>
			<%= select_tag :release_date, options_from_collection_for_select(get_search_date_options, :first, :last, params[:release_date]), { include_blank: 'None' } %>
	<% end %>
	</p>
	<p>
	<%= label_tag :update_date %>
	<% if params[:update_date].nil? %>
			<%= select_tag :update_date, options_from_collection_for_select(get_search_date_options, :first, :last), { include_blank: 'None' } %>
	<% else %>
			<%= select_tag :update_date, options_from_collection_for_select(get_search_date_options, :first, :last, params[:update_date]), { include_blank: 'None' } %>
	<% end %>
	</p>
	<p>
	<%= label_tag :creator_name %>
	<%= text_field_tag :creator_name, params[:creator_name] %>
	</p>
	<p>
	<%= label_tag :group %>
	<% if params[:group].nil? %>
		<%= select_tag :group, options_from_collection_for_select(Category.order(:name), :id, :name), { include_blank: 'None' } %>
	<% else %>
		<%= select_tag :group, options_from_collection_for_select(Category.order(:name), :id, :name, params[:group]), { include_blank: 'None' } %>
	<% end %>
	<p>

	<%= submit_tag "Search" %>
<% end %>